jenkins:
  authorizationStrategy:
    roleBased:
      roles:
        # GLOBAL ROLES (áp dụng toàn hệ thống)
        global:
          - name: "admin"
            description: "Administrators"
            pattern: ".*"           # bắt buộc trong role-strategy
            permissions:
              - "Overall/Administer"
            entries:
              - user: "{{ jenkins_admin_username }}"   # gán user vào role
          - name: "read-only"
            description: "Read-only users"
            pattern: ".*"
            permissions:
              - "Overall/Read"
              - "Job/Read"
            entries:
              - user: "anonymous"     # ví dụ cho phép anonymous đọc (nếu muốn)

        # ITEM ROLES (áp dụng cho Jobs/Folders theo pattern)
        items:
          - name: "devops-maintainer"
            description: "Can build and configure jobs"
            pattern: ".*"             # hoặc 'folders/.+' nếu chỉ thư mục cụ thể
            permissions:
              - "Job/Build"
              - "Job/Read"
              - "Job/Cancel"
              - "Job/Configure"
              - "Job/Workspace"
            entries:
              - user: "{{ jenkins_admin_username }}"
              # - group: "devops"     # nếu dùng group

        # AGENT ROLES (áp dụng cho Nodes/Agents)
        agents:
          - name: "node-admin"
            description: "Manage agents"
            pattern: ".*"
            permissions:
              - "Agent/Build"
              - "Agent/Configure"
              - "Agent/Disconnect"
              - "Agent/Provision"
              - "Agent/Delete"
            entries:
              - user: "{{ jenkins_admin_username }}"
